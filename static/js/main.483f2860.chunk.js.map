{"version":3,"sources":["TableItem.jsx","modal.js","Response.js","Table.js","serverEmulation/request.js","actions.js","TableContainer.js","ControlBar.jsx","ControlBarContainer.js","App.js","Reducers.js","index.js"],"names":["TableItem","item","chooseItems","choosenItems","style","background","find","el","id","type","checked","onChange","e","target","product","calories","fat","carbs","protein","iron","Modal","quantity","deleteItems","setModal","deleteRequest","outerEl","useRef","className","ref","onClick","current","Response","response","Table","fetchData","data","filterTable","useEffect","failedFetch","map","index","toLowerCase","currentFilter","name","direction","items","length","changedItems","filter","currentPage","pagination","checkedItems","isModalOpen","resultOfDeleting","rejectByChance","Math","random","withSearch","SetModal","SuccessfulDelete","res","FailedDelete","err","Loading","destroyResponse","mapDispatchToProps","dispatch","Promise","resolve","reject","error","delay","parseInt","setTimeout","products","then","batch","message","finally","TableContainer","connect","state","ControlBar","changePagination","changePage","SearchAndFilter","arrOfPages","pages","ceil","i","concat","value","disabled","number","newValue","page","newPage","searchByName","ControlBarContainer","App","initialState","tableReducer","action","includes","changedDirection","sort","a","b","newItems","some","store","createStore","applyMiddleware","thunk","window","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.483f2860.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction TableItem({item, chooseItems, choosenItems}) {\r\n    return (\r\n        <tr style={{\r\n            background: choosenItems.find(el => el === item.id) ? 'grey' : ''\r\n        }}>\r\n            <td><input\r\n                type=\"checkbox\"\r\n                checked={!!choosenItems.find(el => el === item.id)}\r\n                onChange={(e) => chooseItems(item.id, e.target.checked)}/></td>\r\n            <td>{item.id}</td>\r\n            <td>{item.product}</td>\r\n            <td>{item.calories}</td>\r\n            <td>{item.fat}</td>\r\n            <td>{item.carbs}</td>\r\n            <td>{item.protein}</td>\r\n            <td>{item.iron}</td>\r\n        </tr>\r\n    );\r\n}\r\n\r\nexport default TableItem;\r\n","import React, {useRef} from 'react';\r\nimport './style/modal.css'\r\n\r\nfunction Modal({quantity, deleteItems, setModal, deleteRequest}) {\r\n\r\n    const outerEl = useRef(null)\r\n\r\n    return (\r\n        <div className='outerModal'\r\n             ref={outerEl}\r\n             onClick={e => outerEl.current === e.target ? setModal() : null}\r\n        >\r\n            <div className='modal'>\r\n                {deleteRequest ? <div>\r\n                    <p>You choose {quantity} item to delete. Are you sure?</p>\r\n                    <div className='btns'>\r\n                        <button\r\n                            className='yes modal_btn'\r\n                            onClick={() => deleteItems()}>Yes\r\n                        </button>\r\n                        <button\r\n                            className='no modal_btn'\r\n                            onClick={() => setModal()}>No\r\n                        </button>\r\n                    </div>\r\n                </div> : <span>Loading...</span>}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport './style/response.css';\r\n\r\nfunction Response({response}) {\r\n\r\n    return (\r\n        <>\r\n            {response ? <div className='responseBlock'>\r\n                <span>\r\n                {response}\r\n                </span>\r\n            </div> : null}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Response;\r\n","import React, {useEffect} from 'react';\r\nimport './style/Table.css';\r\nimport TableItem from \"./TableItem\";\r\nimport Modal from \"./modal\";\r\nimport Response from \"./Response\";\r\n\r\nfunction Table({fetchData, data, filterTable, chooseItems, setModal, deleteItems}) {\r\n\r\n    const headers = ['#', 'ID', 'Product', 'Calories', 'Fat', 'Carbs', 'Protein', 'Iron']\r\n\r\n    useEffect(() => {\r\n        fetchData()\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            {data.failedFetch && <div className=\"failedLoading\">Something went wrong please try again....</div>}\r\n            <table>\r\n                <thead>\r\n                <tr>\r\n                    {headers.map((item, index) => {\r\n                        return (\r\n                            <td className='headerItem'\r\n                                key={index}\r\n                                onClick={() => filterTable(item.toLowerCase())}\r\n                            >{item}{\r\n                                data.currentFilter.name === item.toLowerCase() ? <span>\r\n                                    {!data.currentFilter.direction ? <span>&#8593;</span> : <span>&#8595;</span>}\r\n                                </span> : null\r\n                            }</td>\r\n                        )\r\n                    })}\r\n                </tr>\r\n                </thead>\r\n                {data.items.length > 0 ?\r\n                    <tbody>\r\n                    {data.changedItems.filter((item, index) => { // 1000 / 100 === 10\r\n                        return index < data.currentPage * data.pagination &&\r\n                            index >= data.pagination * data.currentPage - data.pagination\r\n                    }).map(item => <TableItem item={item} key={item.id} chooseItems={chooseItems}\r\n                                              choosenItems={data.checkedItems}/>)}\r\n                    </tbody> : <tbody>\r\n                    <tr>\r\n                        <td>Loading...</td>\r\n                    </tr>\r\n                    </tbody>\r\n                }\r\n            </table>\r\n            {data.isModalOpen && <Modal\r\n                quantity={data.checkedItems.length}\r\n                setModal={setModal}\r\n                deleteItems={deleteItems}\r\n                deleteRequest={data.deleteRequest}\r\n            />}\r\n            <Response response={data.resultOfDeleting}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Table;\r\n","import products from './products.json';\n\n/** True = 65%, False = 35% */\nconst rejectByChance = () => {\n  return Math.random() <= 0.01; // changed\n};\n\n/** Emulate get request */\nexport const getProducts = () => new Promise((resolve, reject) => {\n  if (rejectByChance()) {\n    return reject({\n      error: 'Server error'\n    });\n  }\n  const delay = parseInt(Math.random() * 1000);\n  setTimeout(() => {\n    resolve(products);\n  }, delay);\n});\n\n/** Emulate delete request */\nexport const deleteProducts = () => new Promise((resolve, reject) => {\n  if (rejectByChance()) {\n    return reject({\n      error: 'Server error'\n    });\n  }\n  const delay = parseInt(Math.random() * 1000);\n  setTimeout(() => {\n    resolve({ message: 'deleted' });\n  }, delay);\n});\n","import {deleteProducts, getProducts} from \"./serverEmulation/request\";\r\nimport {batch} from \"react-redux\";\r\n\r\nconst GET_STATE = 'GET_STATE';\r\nconst LOADING_FAIL = 'LOADING_FAIL';\r\nconst CHANGE_PAGINATION = 'CHANGE_PAGINATION';\r\nconst CHANGE_PAGE = 'CHANGE_PAGE';\r\nconst SEARCH_PRODUCT = 'SEARCH_PRODUCT';\r\nconst FILTER_TABLE = 'FILTER_TABLE';\r\nconst CHOOSE_ITEM = 'CHOOSE_ITEM';\r\nconst SET_MODAL = 'SET_MODAL';\r\nconst SUCCESSFUL_DELETE = 'SUCCESSFUL_DELETE';\r\nconst FAILED_DELETE = 'FAILED_DELETE';\r\nconst LOADING = 'LOADING';\r\nconst DESTROY_RESPONSE = 'DESTROY_RESPONSE';\r\n\r\nexport const ChangePage = (page) => {\r\n    return {\r\n        type: CHANGE_PAGE,\r\n        newPage: page\r\n    }\r\n}\r\n\r\nexport const getState = (data) => {\r\n    return {\r\n        type: GET_STATE,\r\n        data: data\r\n    }\r\n}\r\n\r\nexport const loadingFailed = () => {\r\n    return {\r\n        type: LOADING_FAIL\r\n    }\r\n}\r\n\r\nexport const changePagination = (number) => {\r\n    return {\r\n        type: CHANGE_PAGINATION,\r\n        newValue: number\r\n    }\r\n}\r\n\r\nexport const fetchData = () => {\r\n    return function (dispatch) {\r\n        getProducts().then(\r\n            res => dispatch(getState(res)),\r\n            err => dispatch(loadingFailed())\r\n        )\r\n    }\r\n}\r\n\r\nexport const searchByName = (name) => {\r\n    return {\r\n        type: SEARCH_PRODUCT,\r\n        name: name\r\n    }\r\n}\r\n\r\nexport const SearchAndFilter = (name, filter, withSearch) => {\r\n    return dispatch => {\r\n        batch(() => {\r\n            dispatch(searchByName(name))\r\n            dispatch(filterTable(filter, withSearch))\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport const filterTable = (filter, withSearch) => {\r\n    return {\r\n        type: FILTER_TABLE,\r\n        filter: filter,\r\n        withSearch: withSearch\r\n    }\r\n}\r\n\r\nexport const ChooseItem = (id, checked) =>{\r\n    return {\r\n        type: CHOOSE_ITEM,\r\n        id: id,\r\n        checked: checked\r\n    }\r\n}\r\n\r\nexport const SetModal = () => {\r\n    return {\r\n        type: SET_MODAL\r\n    }\r\n}\r\n\r\nexport const DeleteItemRequest = () => {\r\n    return dispatch => {\r\n        batch(()=>{\r\n            dispatch(Loading())\r\n            deleteProducts().then(\r\n                res => dispatch(SuccessfulDelete(res)),\r\n                err => dispatch(FailedDelete(err))\r\n            ).finally(()=>{\r\n                setTimeout(()=>{\r\n                    dispatch(destroyResponse())\r\n                }, 3000)\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\nexport const SuccessfulDelete = (res) => {\r\n    return {\r\n        type: SUCCESSFUL_DELETE,\r\n        res: res\r\n    }\r\n}\r\n\r\nexport const FailedDelete = (err) => {\r\n    return {\r\n        type: FAILED_DELETE,\r\n        err: err\r\n    }\r\n}\r\n\r\nexport const Loading = () => {\r\n    return {\r\n        type: LOADING\r\n    }\r\n}\r\nexport const destroyResponse = () => {\r\n    return {\r\n        type: DESTROY_RESPONSE\r\n    }\r\n}\r\n","import {connect} from \"react-redux\";\r\nimport Table from \"./Table\";\r\nimport {ChooseItem, DeleteItemRequest, fetchData, filterTable, SetModal} from \"./actions\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        data: state\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    fetchData: fetchData,\r\n    filterTable: filterTable,\r\n    chooseItems: ChooseItem,\r\n    setModal: SetModal,\r\n    deleteItems: DeleteItemRequest\r\n}\r\n\r\nconst TableContainer = connect(mapStateToProps, mapDispatchToProps)(Table);\r\nexport default TableContainer;\r\n","import React from 'react';\r\nimport './style/ControlBar.css'\r\n\r\nfunction ControlBar({state, changePagination, changePage, SearchAndFilter, setModal}) {\r\n    const numOnPages = [10, 25, 50, 100, 500];\r\n    let arrOfPages = []\r\n    const pages = Math.ceil(state.changedItems.length / state.pagination)\r\n    for (let i = 1; i <= pages; i++) {\r\n        arrOfPages = arrOfPages.concat(i);\r\n    }\r\n\r\n    return (\r\n        <div className='control-bar'>\r\n            <div className='options'>\r\n                <div>Search By Name\r\n                    <input\r\n                        type=\"text\"\r\n                        onChange={(e => SearchAndFilter(e.target.value, state.currentFilter.name.toLowerCase(), true))}\r\n                    />\r\n                </div>\r\n                <button\r\n                    disabled={state.checkedItems.length > 0 ? false : true}\r\n                    onClick={() => setModal()}\r\n                >Delete\r\n                </button>\r\n                <div className='arrowBar'>\r\n                    <span onClick={() => changePage(1)}>&lt;&lt;</span>\r\n                    <span onClick={() => changePage(state.currentPage === 1 ? 1 : state.currentPage - 1)}>&lt;</span>\r\n                    {arrOfPages.filter((item, index) => index >= state.currentPage - 3 && index < state.currentPage + 2).map((item, index) => {\r\n                        return <span\r\n                            className={item === state.currentPage ? 'span active' : 'span'}\r\n                            key={index}\r\n                            onClick={() => changePage(item)}\r\n                        >{item}</span>\r\n                    })}\r\n                    <span\r\n                        onClick={() => changePage(state.currentPage !== Math.ceil(state.changedItems.length / state.pagination) ?\r\n                            state.currentPage + 1 : state.currentPage\r\n                        )}>&gt;</span>\r\n                    <span\r\n                        onClick={() => changePage(Math.ceil(state.changedItems.length / state.pagination))}>&gt;&gt;</span>\r\n                </div>\r\n                <div className=\"pagination\">\r\n                    <span>Products on page</span>\r\n                    <div>\r\n                        {numOnPages.map((item, index) => {\r\n                            return <span\r\n                                className={item === state.pagination ? 'span active' : 'span'}\r\n                                key={index}\r\n                                onClick={() => changePagination(item)}\r\n                            >\r\n                                {item}\r\n                            </span>\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ControlBar;\r\n","import ControlBar from \"./ControlBar\";\r\nimport {connect} from \"react-redux\";\r\nimport {ChangePage, changePagination, DeleteItemRequest, SearchAndFilter, SetModal} from \"./actions\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        state: state\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    changePagination: changePagination,\r\n    changePage: ChangePage,\r\n    SearchAndFilter: SearchAndFilter,\r\n    setModal: SetModal\r\n}\r\n\r\nconst ControlBarContainer = connect(mapStateToProps, mapDispatchToProps)(ControlBar)\r\nexport default ControlBarContainer;\r\n","import './style/App.css';\nimport TableContainer from \"./TableContainer\";\nimport ControlBarContainer from \"./ControlBarContainer\";\nimport React from \"react\";\n\nfunction App() {\n    return (\n        <div className='app'>\n            <TableContainer/>\n            <ControlBarContainer/>\n        </div>\n    );\n}\n\nexport default App;\n\n\n\n\n\n\n","let initialState = {\r\n    items: [],\r\n    changedItems: [],\r\n    failedFetch: false,\r\n    pagination: 100,\r\n    currentPage: 2,\r\n    currentFilter: {\r\n        name: '',\r\n        direction: true\r\n    },\r\n    checkedItems: [],\r\n    isModalOpen: false,\r\n    deleteRequest: true,\r\n    resultOfDeleting: null\r\n}\r\n\r\nconst tableReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'GET_STATE': {\r\n            return {\r\n                ...state,\r\n                items: [...state.items, ...action.data],\r\n                changedItems: [...state.changedItems, ...action.data]\r\n            }\r\n        }\r\n        case 'LOADING_FAIL': {\r\n            return {\r\n                ...state,\r\n                failedFetch: true\r\n            }\r\n        }\r\n        case 'CHANGE_PAGE': {\r\n            return {\r\n                ...state,\r\n                currentPage: action.newPage,\r\n                checkedItems: []\r\n            }\r\n        }\r\n        case 'CHANGE_PAGINATION': {\r\n            return {\r\n                ...state,\r\n                pagination: action.newValue,\r\n                currentPage: 1,\r\n                checkedItems: []\r\n            }\r\n        }\r\n        case 'SEARCH_PRODUCT': {\r\n            return {\r\n                ...state,\r\n                currentPage: 1,\r\n                changedItems: state.items.filter(item => item.product.toLowerCase().includes(action.name.toLowerCase()))\r\n            }\r\n        }\r\n        case 'FILTER_TABLE': {\r\n            let changedDirection = state.currentFilter.direction\r\n            let changedItems;\r\n            if (action.withSearch) {\r\n                changedItems = state.changedItems.sort((a,b) => {\r\n                    if (!changedDirection) {\r\n                        return a[action.filter] - b[action.filter]\r\n                    } else return b[action.filter] - a[action.filter]\r\n                })\r\n            } else if (state.currentFilter.name.toLowerCase() !== action.filter ) {\r\n                changedItems = state.changedItems.sort((a, b) => a[action.filter] - b[action.filter])\r\n                changedDirection = false\r\n            } else if (state.currentFilter.name.toLowerCase() === action.filter) {\r\n                if (!state.currentFilter.direction) {\r\n                    changedItems = state.changedItems.sort((a, b) => b[action.filter] - a[action.filter])\r\n                } else if (state.currentFilter.direction) {\r\n                    changedItems = state.changedItems.sort((a, b) => a[action.filter] - b[action.filter])\r\n                }\r\n                changedDirection = !state.currentFilter.direction\r\n            }\r\n            return {\r\n                ...state,\r\n                currentPage: 1,\r\n                changedItems: changedItems,\r\n                currentFilter: {\r\n                    direction: changedDirection,\r\n                    name: action.filter\r\n                },\r\n                checkedItems: []\r\n            }\r\n        }\r\n        case 'CHOOSE_ITEM' : {\r\n            if (!action.checked) {\r\n                return {\r\n                    ...state,\r\n                    checkedItems: state.checkedItems.filter(item => item !== action.id)\r\n                }\r\n            } else return {\r\n                ...state,\r\n                checkedItems: state.checkedItems.concat(action.id)\r\n            }\r\n        }\r\n        case 'SET_MODAL': {\r\n            return {\r\n                ...state,\r\n                isModalOpen: !state.isModalOpen\r\n            }\r\n        }\r\n        case 'SUCCESSFUL_DELETE': {\r\n            let newItems = state.items.filter(item => !state.checkedItems.some(el => el === item.id))\r\n            return {\r\n                ...state,\r\n                items: newItems,\r\n                changedItems: newItems,\r\n                checkedItems: [],\r\n                deleteRequest: true,\r\n                isModalOpen: false,\r\n                resultOfDeleting: action.res.message\r\n            }\r\n        }\r\n        case 'FAILED_DELETE': {\r\n            return {\r\n                ...state,\r\n                deleteRequest: true,\r\n                resultOfDeleting: action.err.error,\r\n                isModalOpen: false\r\n            }\r\n        }\r\n        case \"LOADING\": {\r\n            return {\r\n                ...state,\r\n                deleteRequest: false\r\n            }\r\n        }\r\n        case 'DESTROY_RESPONSE': {\r\n            return {\r\n                ...state,\r\n                resultOfDeleting: null\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default tableReducer;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style/index.css';\nimport App from './App';\nimport {Provider} from \"react-redux\";\nimport {applyMiddleware, createStore} from \"redux\";\nimport tableReducer from \"./Reducers\";\nimport thunk from \"redux-thunk\";\n\nconst store = createStore(tableReducer, applyMiddleware(thunk))\nwindow.store = store\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}